

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building &mdash; OpenDroneMap 0.4 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="OpenDroneMap 0.4 documentation" href="index.html"/>
        <link rel="next" title="Usage" href="using.html"/>
        <link rel="prev" title="Download" href="download.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> OpenDroneMap
          

          
          </a>

          
            
            
              <div class="version">
                0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a><ul>
<li class="toctree-l2"><a class="reference internal" href="download.html#stable">Stable</a></li>
<li class="toctree-l2"><a class="reference internal" href="download.html#development">Development</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hardware-recommendations">Hardware Recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docker-installation-cross-platform">Docker Installation (cross-platform)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#build-the-image">Build the image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#native-installation-ubuntu-16-04">Native Installation (Ubuntu 16.04)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#setting-environment-variables">Setting environment variables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="using.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="using.html#docker">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="using.html#native">Native</a><ul>
<li class="toctree-l3"><a class="reference internal" href="using.html#additional-arguments">Additional Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="using.html#ground-control-points">Ground Control Points</a></li>
<li class="toctree-l3"><a class="reference internal" href="using.html#video-reconstruction-experimental">Video Reconstruction (Experimental)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="using.html#building-with-slam-support">Building with SLAM support</a></li>
<li class="toctree-l4"><a class="reference internal" href="using.html#calibrating-the-camera">Calibrating the camera</a></li>
<li class="toctree-l4"><a class="reference internal" href="using.html#running-opendronemap-from-a-video">Running OpenDroneMap from a video</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="using.html#camera-calibration">Camera Calibration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="using.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="using.html#usage-calibrate-chessboard">Usage: Calibrate chessboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="using.html#usage-undistort-photos">Usage: undistort photos</a></li>
<li class="toctree-l3"><a class="reference internal" href="using.html#docker-usage-for-undistorting-images">Docker Usage for undistorting images</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dataset.html">Dataset Structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dataset.html#outputs">Outputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dataset.html#d-models-unreferenced">3D Models (unreferenced)</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataset.html#textured-models">Textured Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataset.html#georeferencing">Georeferencing</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataset.html#orthophoto">Orthophoto</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataset.html#dem-dsm">DEM/DSM</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataset.html#d-meshing-reconstruction">2.5D Meshing Reconstruction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="large.html">Splitting Large Datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="large.html#calibrate-images">Calibrate images</a></li>
<li class="toctree-l2"><a class="reference internal" href="large.html#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="large.html#setup-py">setup.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="large.html#run-matching-py">run_matching.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="large.html#split-py">split.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="large.html#run-reconstructions-py">run_reconstructions.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="large.html#align-py">align.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="large.html#run-dense-py">run_dense.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="large.html#merge-py">merge.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="large.html#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Code Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="flying.html">Flying tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">How to contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#community-forum">Community Forum</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#reporting-bugs">Reporting Bugs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#template-for-submitting-bug-reports">Template For Submitting Bug Reports</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#pull-requests">Pull Requests</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OpenDroneMap</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Building</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/building.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="building">
<h1>Building<a class="headerlink" href="#building" title="Permalink to this headline">¶</a></h1>
<div class="section" id="hardware-recommendations">
<h2>Hardware Recommendations<a class="headerlink" href="#hardware-recommendations" title="Permalink to this headline">¶</a></h2>
<p>OpenDroneMap is built on Ubuntu 16.04 but can be run on other major platforms using Docker.</p>
<p>Minimum 4GB of RAM, recommended 16GB or more. Many parts of the ODM toolchain are parallelized, and memory requirements will increase as the size of the input data increases.</p>
</div>
<div class="section" id="docker-installation-cross-platform">
<span id="docker-installation"></span><h2>Docker Installation (cross-platform)<a class="headerlink" href="#docker-installation-cross-platform" title="Permalink to this headline">¶</a></h2>
<p>First you need to <a class="reference external" href="https://www.docker.com/">download and install Docker</a>. Note for Windows users that Docker CE only works for Windows 10 Professional and Enterprise. Otherwise you should use <a class="reference external" href="https://www.docker.com/products/docker-toolbox">Docker Toolbox</a></p>
<p>You can easily pull and run a pre-built image. Start here: <a class="reference internal" href="using.html#docker-usage"><span class="std std-ref">Docker</span></a>. If you want to build your own docker image, follow the instructions below.</p>
<p>Before running ODM it’s advised to check that Docker is allocating sufficient resources to containers. In Windows this can be done in the ‘Docker for Windows’ program under the ‘Advanced’ tab.</p>
<div class="section" id="build-the-image">
<h3>Build the image<a class="headerlink" href="#build-the-image" title="Permalink to this headline">¶</a></h3>
<p>Download and extract the latest version of ODM: <a class="reference internal" href="download.html#download"><span class="std std-ref">Download</span></a></p>
<p>In Docker toolbox or Docker CE, navigate to your extracted ODM directory. Then build the Docker image.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">Documents</span><span class="o">/</span><span class="n">OpenDroneMap_v0_3_1</span><span class="o">/</span>
<span class="n">docker</span> <span class="n">build</span> <span class="o">-</span><span class="n">t</span> <span class="n">my_odm_image</span> <span class="o">.</span>
</pre></div>
</div>
<p>When building your own Docker image, if image size is of importance to you, you should use the <code class="docutils literal notranslate"><span class="pre">--squash</span></code> flag, like so::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">build</span> <span class="o">--</span><span class="n">squash</span> <span class="o">-</span><span class="n">t</span> <span class="n">my_odm_image</span> <span class="o">.</span>
</pre></div>
</div>
<p>This will clean up intermediate steps in the Docker build process, resulting in a significantly smaller image (about half the size).</p>
<p>Experimental flags need to be enabled in Docker to use the <code class="docutils literal notranslate"><span class="pre">--squash</span></code> flag. To enable this, insert the following into the file /etc/docker/daemon.json::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;experimental&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p>After this, you must restart docker by typing <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">docker</span> <span class="pre">restart</span></code> into your Linux terminal.</p>
<p>Once this is done, go to <a class="reference internal" href="using.html#docker-usage"><span class="std std-ref">Docker</span></a></p>
</div>
</div>
<div class="section" id="native-installation-ubuntu-16-04">
<span id="native-installation"></span><h2>Native Installation (Ubuntu 16.04)<a class="headerlink" href="#native-installation-ubuntu-16-04" title="Permalink to this headline">¶</a></h2>
<p>Download and extract the latest version of ODM: <a class="reference internal" href="download.html#download"><span class="std std-ref">Download</span></a></p>
<p>The installation is simple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bash</span> <span class="n">configure</span><span class="o">.</span><span class="n">sh</span> <span class="n">install</span>
</pre></div>
</div>
<p>configure.sh can take up to 2 arguments</p>
<dl class="docutils">
<dt>configure.sh command [n]</dt>
<dd><p class="first">command: can be one of (install, reinstall, uninstall, usage)</p>
<p class="last">[n] is an optional argument that will set the number of processes for the compiler</p>
</dd>
</dl>
<div class="section" id="setting-environment-variables">
<h3>Setting environment variables<a class="headerlink" href="#setting-environment-variables" title="Permalink to this headline">¶</a></h3>
<p>Using your favorite editor, open <cite>~/.bashrc</cite> and append the following to the bottom of the file (replace /your/path/OpenDroneMap with your installation path, e.g. /home/user/OpenDroneMap):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PYTHONPATH=$PYTHONPATH:/your/path/OpenDroneMap/SuperBuild/install/lib/python2.7/dist-packages
export PYTHONPATH=$PYTHONPATH:/your/path/OpenDroneMap/SuperBuild/src/opensfm
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/your/path/OpenDroneMap/SuperBuild/install/lib
</pre></div>
</div>
<p>You will need to log out and back in again for the variables to set.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="using.html" class="btn btn-neutral float-right" title="Usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="download.html" class="btn btn-neutral" title="Download" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, OpenDroneMap.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>